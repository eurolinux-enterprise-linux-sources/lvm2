 lib/device/dev-type.c | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/lib/device/dev-type.c b/lib/device/dev-type.c
index 331fe07..60b0d78 100644
--- a/lib/device/dev-type.c
+++ b/lib/device/dev-type.c
@@ -1062,6 +1062,9 @@ int udev_dev_is_mpath_component(struct device *dev)
 	const char *value;
 	int ret = 0;
 
+	if (!obtain_device_list_from_udev())
+		return 0;
+
 	if (!(udev_device = _udev_get_dev(dev)))
 		return 0;
 
@@ -1091,6 +1094,9 @@ int udev_dev_is_md_component(struct device *dev)
 	const char *value;
 	int ret = 0;
 
+	if (!obtain_device_list_from_udev())
+		return 0;
+
 	if (!(udev_device = _udev_get_dev(dev)))
 		return 0;
 
